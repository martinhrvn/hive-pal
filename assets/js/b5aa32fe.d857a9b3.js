"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[614],{3939:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(8225);const l={},a=i.createContext(l);function t(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(a.Provider,{value:n},e.children)}},7165:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"self-hosting/manual-setup","title":"Manual Installation","description":"Set up Hive-Pal without Docker for more control over the environment.","source":"@site/docs/self-hosting/manual-setup.md","sourceDirName":"self-hosting","slug":"/self-hosting/manual-setup","permalink":"/docs/self-hosting/manual-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/martinhrvn/hive-pal/tree/main/docs/docs/self-hosting/manual-setup.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Manual Installation"},"sidebar":"tutorialSidebar","previous":{"title":"Docker Setup","permalink":"/docs/self-hosting/docker-setup"},"next":{"title":"Configuration","permalink":"/docs/self-hosting/configuration"}}');var l=s(7557),a=s(3939);const t={sidebar_position:3,title:"Manual Installation"},o="Manual Installation",r={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"System Dependencies",id:"system-dependencies",level:3},{value:"Node.js Setup",id:"nodejs-setup",level:3},{value:"Database Setup",id:"database-setup",level:2},{value:"PostgreSQL Installation",id:"postgresql-installation",level:3},{value:"Configuration",id:"configuration",level:3},{value:"Application Setup",id:"application-setup",level:2},{value:"Clone Repository",id:"clone-repository",level:3},{value:"Install Dependencies",id:"install-dependencies",level:3},{value:"Environment Configuration",id:"environment-configuration",level:3},{value:"Database Migration",id:"database-migration",level:3},{value:"Development Setup",id:"development-setup",level:2},{value:"Start Services",id:"start-services",level:3},{value:"Verify Installation",id:"verify-installation",level:3},{value:"Production Setup",id:"production-setup",level:2},{value:"Build Applications",id:"build-applications",level:3},{value:"Process Manager",id:"process-manager",level:3},{value:"Web Server Setup",id:"web-server-setup",level:3},{value:"Security",id:"security",level:2},{value:"SSL Certificate",id:"ssl-certificate",level:3},{value:"Firewall",id:"firewall",level:3},{value:"Monitoring",id:"monitoring",level:2},{value:"System Monitoring",id:"system-monitoring",level:3},{value:"Database Monitoring",id:"database-monitoring",level:3},{value:"Backup",id:"backup",level:2},{value:"Automated Backups",id:"automated-backups",level:3},{value:"Updates",id:"updates",level:2},{value:"Application Updates",id:"application-updates",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Log Locations",id:"log-locations",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"manual-installation",children:"Manual Installation"})}),"\n",(0,l.jsx)(n.p,{children:"Set up Hive-Pal without Docker for more control over the environment."}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsx)(n.h3,{id:"system-dependencies",children:"System Dependencies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Ubuntu/Debian\nsudo apt update\nsudo apt install nodejs npm postgresql postgresql-contrib git\n\n# macOS\nbrew install node postgresql git\n\n# Windows\n# Use official installers for Node.js, PostgreSQL\n"})}),"\n",(0,l.jsx)(n.h3,{id:"nodejs-setup",children:"Node.js Setup"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install pnpm\nnpm install -g pnpm\n\n# Verify versions\nnode --version  # Should be 18+\npnpm --version\n"})}),"\n",(0,l.jsx)(n.h2,{id:"database-setup",children:"Database Setup"}),"\n",(0,l.jsx)(n.h3,{id:"postgresql-installation",children:"PostgreSQL Installation"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Create database and user\nCREATE DATABASE hivepal;\nCREATE USER hivepal_user WITH PASSWORD 'secure_password';\nGRANT ALL PRIVILEGES ON DATABASE hivepal TO hivepal_user;\n"})}),"\n",(0,l.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Edit postgresql.conf\nlisten_addresses = 'localhost'\nport = 5432\n\n# Edit pg_hba.conf\nlocal   hivepal    hivepal_user                     md5\nhost    hivepal    hivepal_user    127.0.0.1/32     md5\n"})}),"\n",(0,l.jsx)(n.h2,{id:"application-setup",children:"Application Setup"}),"\n",(0,l.jsx)(n.h3,{id:"clone-repository",children:"Clone Repository"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/martinhrvn/hive-pal.git\ncd hive-pal\n"})}),"\n",(0,l.jsx)(n.h3,{id:"install-dependencies",children:"Install Dependencies"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install all packages\npnpm install\n\n# Verify workspace structure\npnpm list --depth=0\n"})}),"\n",(0,l.jsx)(n.h3,{id:"environment-configuration",children:"Environment Configuration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Backend environment\ncd apps/backend\ncp .env.example .env\n\n# Frontend environment  \ncd ../frontend\ncp .env.example .env\n"})}),"\n",(0,l.jsx)(n.h3,{id:"database-migration",children:"Database Migration"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# From backend directory\npnpm prisma generate\npnpm prisma migrate dev\npnpm seed  # Optional test data\n"})}),"\n",(0,l.jsx)(n.h2,{id:"development-setup",children:"Development Setup"}),"\n",(0,l.jsx)(n.h3,{id:"start-services",children:"Start Services"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Terminal 1: Backend\ncd apps/backend\npnpm dev\n\n# Terminal 2: Frontend\ncd apps/frontend  \npnpm dev\n\n# Terminal 3: Database (if needed)\nsudo service postgresql start\n"})}),"\n",(0,l.jsx)(n.h3,{id:"verify-installation",children:"Verify Installation"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Frontend: ",(0,l.jsx)(n.a,{href:"http://localhost:5173",children:"http://localhost:5173"})]}),"\n",(0,l.jsxs)(n.li,{children:["Backend: ",(0,l.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})]}),"\n",(0,l.jsxs)(n.li,{children:["API Docs: ",(0,l.jsx)(n.a,{href:"http://localhost:3000/api-docs",children:"http://localhost:3000/api-docs"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"production-setup",children:"Production Setup"}),"\n",(0,l.jsx)(n.h3,{id:"build-applications",children:"Build Applications"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Build all packages\npnpm build\n\n# Production dependencies only\npnpm install --prod\n"})}),"\n",(0,l.jsx)(n.h3,{id:"process-manager",children:"Process Manager"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install PM2\nnpm install -g pm2\n\n# Create ecosystem file\n# ecosystem.config.js\nmodule.exports = {\n  apps: [\n    {\n      name: 'hive-pal-backend',\n      script: './apps/backend/dist/main.js',\n      env: {\n        NODE_ENV: 'production'\n      }\n    }\n  ]\n}\n\n# Start with PM2\npm2 start ecosystem.config.js\n"})}),"\n",(0,l.jsx)(n.h3,{id:"web-server-setup",children:"Web Server Setup"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-nginx",children:"# nginx configuration\nserver {\n    listen 80;\n    server_name your-domain.com;\n    \n    location /api {\n        proxy_pass http://localhost:3000;\n        proxy_set_header Host $host;\n    }\n    \n    location / {\n        root /path/to/frontend/dist;\n        try_files $uri $uri/ /index.html;\n    }\n}\n"})}),"\n",(0,l.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,l.jsx)(n.h3,{id:"ssl-certificate",children:"SSL Certificate"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Using Certbot\nsudo apt install certbot python3-certbot-nginx\nsudo certbot --nginx -d your-domain.com\n"})}),"\n",(0,l.jsx)(n.h3,{id:"firewall",children:"Firewall"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# UFW rules\nsudo ufw allow 22    # SSH\nsudo ufw allow 80    # HTTP\nsudo ufw allow 443   # HTTPS\nsudo ufw enable\n"})}),"\n",(0,l.jsx)(n.h2,{id:"monitoring",children:"Monitoring"}),"\n",(0,l.jsx)(n.h3,{id:"system-monitoring",children:"System Monitoring"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Install monitoring tools\nnpm install -g htop iotop\n\n# Check processes\npm2 status\npm2 logs\n"})}),"\n",(0,l.jsx)(n.h3,{id:"database-monitoring",children:"Database Monitoring"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sql",children:"-- Check connections\nSELECT * FROM pg_stat_activity;\n\n-- Monitor performance\nSELECT * FROM pg_stat_database;\n"})}),"\n",(0,l.jsx)(n.h2,{id:"backup",children:"Backup"}),"\n",(0,l.jsx)(n.h3,{id:"automated-backups",children:"Automated Backups"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"#!/bin/bash\n# backup.sh\nDATE=$(date +%Y%m%d_%H%M%S)\npg_dump -U hivepal_user hivepal > backups/hivepal_$DATE.sql\ntar -czf backups/uploads_$DATE.tar.gz uploads/\n\n# Add to crontab\n0 2 * * * /path/to/backup.sh\n"})}),"\n",(0,l.jsx)(n.h2,{id:"updates",children:"Updates"}),"\n",(0,l.jsx)(n.h3,{id:"application-updates",children:"Application Updates"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Pull changes\ngit pull origin main\n\n# Update dependencies\npnpm install\n\n# Run migrations\ncd apps/backend\npnpm prisma migrate deploy\n\n# Rebuild\npnpm build\n\n# Restart services\npm2 restart all\n"})}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Port already in use"}),": Check with ",(0,l.jsx)(n.code,{children:"netstat -tlnp"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Database connection"}),": Verify credentials and service"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Permission errors"}),": Check file ownership"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Memory issues"}),": Monitor with ",(0,l.jsx)(n.code,{children:"htop"})]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"log-locations",children:"Log Locations"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Application logs: ",(0,l.jsx)(n.code,{children:"~/.pm2/logs/"})]}),"\n",(0,l.jsxs)(n.li,{children:["System logs: ",(0,l.jsx)(n.code,{children:"/var/log/"})]}),"\n",(0,l.jsxs)(n.li,{children:["Database logs: ",(0,l.jsx)(n.code,{children:"/var/log/postgresql/"})]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}}}]);